
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Modèle 5</title>
</head>
<body>
    <h1>Modèle 5</h1>
    <form id="paramsForm" method="get" action="https://crepsite.onrender.com/run">
        <label>Latitude: <input name="lat" type="number" step="0.1" required></label>
<label>Longitude: <input name="lon" type="number" step="0.1" required></label>
<label>Année: <input name="annee" type="number" required></label>
        <input type="hidden" name="model" value="5">
        <button type="submit">Afficher graphique</button>
    </form>
    <div id="graph">
        <h2>Graphique généré :</h2>
        <img src="" id="graphImage" style="display:none; max-width: 90%;">
    </div>
    <script>
        const form = document.getElementById("paramsForm");
        const img = document.getElementById("graphImage");
        form.onsubmit = function(e) {
            e.preventDefault();
            const formData = new FormData(form);
            const query = new URLSearchParams(formData).toString();
            const url = "https://crepsite.onrender.com/run?" + query;
            img.src = url;
            img.style.display = "block";
        }
    </script>
</body>
</html>
